<!doctype html>
<html lang="fr">
  <head>
    <title>Cours jQuery - Sélecteurs</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>

<body class="bg-secondary">
  <!-- Navbar bootstrap  -->
  <nav class="navbar navbar-expand-lg navbar-light bg-dark">
    <a class="navbar-brand text-white" href="#">jQuery</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
          <li class="nav-item">
              <a class="nav-link active text-success" href="#">Sélecteurs</a>
          </li>
          <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle text-white" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Menu
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="../02-evenements/02-evenements.html">Événements</a>
              <!-- <a class="dropdown-item" href="#">Another action</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="#">Something else here</a> -->
          </div>
          </li>
      </ul>
    </div>
  </nav> <!-- fin de la navbar -->

  <main class="container bg-light my-4 p-4">
      <header class="jumbotron">
          <h1 class="display-4">Cours jQuery - Sélecteurs</h1>
          <p class="lead">Write less, do more</p>
      </header>

      <section class="p-3">
        <button type="button" class="btn btn-success mb-4 cache">Cliquez ici !</button>
        <div class="row">
            <div class="col-md-6 py-4">
                <h3>jQuery est une API</h3>
                <p class="lead">JQuery est ce qu'on appelle une bibliothèque ou une API (application programming interface) Javascript, c'est à dire un ensemble de fonctions qui permettent d'écrire de manière condensée, les lignes de codes les plus utilisées en Javascript.</p>
                <p class="lead">La version 1.0 stable de JQuery a été crée en aout 2006 par un jeune homme de 22 ans du nom de John RESIG. Aujourd'hui nous en sommes à : jQuery JavaScript Library v3.5.1</p>
                <p><a href="https://jquery.com/" target="blank">Le site de jQuery</a></p>
                <p>Quel est l'avenir de jQuery ? <a href="https://hub.packtpub.com/bootstrap-5-to-replace-jquery-with-vanilla-javascript/#:~:text=The%20upcoming%20major%20version%20of,be%20replaced%20with%20vanilla%20JavaScript.&text=For%20example%2C%20last%20year%2C%20GitHub,losing%20its%20relevancy%20over%20time" target="blank">En savoir plus</a></p>
            </div><!-- fin col -->
        
            <div class="col-md-6 py-4">
                <h3>jQuery écrit d'une manière plus condensée</h3>
                <p class="lead">Nous allons souvent utiliser les fonctions Javascript qui permettent d'attraper les balises HTML et les animer, ainsi en Javascript nous allons écrire d'une certaine manière et en JQuery d'une manière plus condensée.</p>
                <p class="text-success py-2">Une vingtaine de lignes de code en JavaScript correspond à quelques lignes seulement en jQuery. D'où le slogan : "Write less… Do more".</p>
            </div><!-- fin col -->
        
            <div class="col-md-12 border border-warning py-4">
              <h3>Exemple</h3>
              <ul>
                <li><strong class="bg-dark">JavaScript</strong> : <code>document.getElementsByTagName('p')[0].innerHTML = 'Je change le texte du premier paragraphe de la page avec JS.';</code></li>
                <li><strong class="bg-dark">jQuery</strong> : <code>$('p:first').text('Je change le texte du premier paragraphe de la page avec jQuery');</code></li>
              </ul>
            </div><!-- fin col -->
        </div><!-- fin row -->

        <div class="row justify-content-center my-4">
          <div class="col-md-6">
            <figure>
              <img src="img/chat.jpg" alt="Un chaton" class="img-fluid">
              <figcaption class="text-center">...</figcaption>
            </figure>
          </div><!-- fin col -->
        </div><!-- fin row -->
      </section>
  </main>


  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  
  <!-- jQuery en local en version complète -->
  <script src="../jquery/jquery-3.5.1.js"></script>

  <script>

    let lesP = document.getElementsByTagName('p');
    console.log(lesP);

    // let enJS = document.getElementsByTagName('p')[0].innerHTML = 'Write less... do more écrit en JS';

    //1- 1er exemple
    $('p:first').text('"Write less... do more" ; le slogan de jQuery en jQuery');

    // $('p:first').next(2).text('Je change le texte du second p');
    // $('p:nth-of-type(2)').text('Je change le texte du second paragraphe');

    //2- sélections avec jQuery
    console.log(document.getElementsByTagName('h1'));
    console.log(document.querySelector('h1'));
    console.log(document.querySelector('h1').innerHTML);
    console.log('1-----');

    // la même en jQuery
    console.log($('h1')[0].innerHTML);
    console.log('2-----');

    //3- fonction $() et méthodes eq(), html()
    // a - la fonction query $() est l'équivalent d'un document.querySelectorAll()
    // b - la méthode eq() permet de sélectionner en jquery un indice ou une collection d'objets
    // c - la méthode html() remplace innerHtml pour récupérer ou redéfinir un contenu de balise

    console.log($('p').eq(5).html());

    // mini exo : changer le contenu du h1 et faire un lien vers le site jquery sur le slogan

    // $('h1').eq(0).text('Je change le h1 en jQuery');
    $('p').eq(0).html('<a href ="https://jquery.com" target="blank">Write less... do more</a>');

    console.log('3-----');

    // e - on peut aussi tout changer !!!
    // $('p').html('On change tous les paragraphes');

    // f - on peut bien-sur passer tout cela dans des variables
    let unP = $('p').eq(2).html();
    console.log(unP);

    //4 - La méthode css()
    //la méthode css() applique des changements css en remplacement de .style
    console.log('4-----');
    // $('p').css("color", "olive");
    $('p').eq(5).css("color", "olive");

    // on va plutôt écrire cela ainsi
    $('p').eq(2).css({
      'color' : 'deeppink',
      'padding' : '5px',
    })

    console.log('5-----');

    // sélectionner toutes les div et leru donner une bordure
    $('div').css({
      'border' : '1px solid lightgrey',
    })

    console.log('6-----');

    // sélectionner tous les éléments qui ont une classe
    // $('.lead').css({
    //   'background-color' : 'lightblue',
    // })
    console.log($('.lead'));

    //5- append() et prepend()
    //
    // ajouter avant le contenu avec prepend()
    $('p').eq(2).prepend('<span class="bg-white text-secondary">Coucou !!!<br></span>');

    // ajouter apreès le contenu avec append()
    $('p').eq(2).append('<br><span class="bg-white text-secondary">Au revoir !!!</span>');

    // sélectionner plusieurs éléments
    console.log($('h1, h3, p'));

    // $('h1, h3, p').prepend('- ');

    // 6 - Manipulation de classes avec addClass(), removeClass(), toggleClass(), hasClass()

    // addClass
    $('span').eq(2).addClass('bg-warning');
    $('span').eq(3).addClass('bg-warning');
    console.log($('span'));

    // removeClass
    console.log($('.lead').eq(1).removeClass('lead'));

    // hasClass
    // = boolean true or false

    // toggleClass
    // Avec fonction
    let bouton = document.querySelector('.cache');
    function jumbotronOff() {
      $('header').toggle('jumbotron');
    }
    bouton.addEventListener('click', jumbotronOff);
    
    
    // 7 - Manipulation d'attributs attr(), et removeAttr()
    // attr() ajout d'un attribut

    $('h1').attr('title', 'Le jQuery est plus simpli');

    //remove.Attr()
    console.log($('strong'));

    $('strong:eq(0), strong:eq(1)').removeAttr('class');

    // 8 - Manipulation des parents et des enfants
    $('figure').find('img').attr('title', 'Un chaton');

    // mini exo : récupérer l'attribut alt de img dans une variable leAlt puis voir son type et son contenu dans la console

    let leAlt = $('figure').find('img').attr('alt');
    console.log(typeof leAlt, leAlt);

    // puis demander à jQuery d'afficher ce contenu (le contenu de la variable) dans figcaption
    $('figure').find('figcaption').text(leAlt);
    // ou :
    // $('figcaption').text(leAlt);

    $('figure').find('figcaption').text(leAlt).css({
      'color' : 'white',
      'background-color' : 'pink',
    });

  </script>
</body>
</html>